<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="ggswim">
<title>Getting Started with ggswim • ggswim</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Fira_Code-0.4.9/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting Started with ggswim">
<meta property="og:description" content="ggswim">
<meta property="og:image" content="https://chop-cgtinformatics.github.io/ggswim/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">ggswim</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../articles/ggswim.html">Get Started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/gallery.html">Gallery</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/add_arrows.html">Adding Arrows</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/CHOP-CGTInformatics/ggswim/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<link href="ggswim_files/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="ggswim_files/pagedtable-1.1/js/pagedtable.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Getting Started with ggswim</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/CHOP-CGTInformatics/ggswim/blob/HEAD/vignettes/articles/ggswim.Rmd" class="external-link"><code>vignettes/articles/ggswim.Rmd</code></a></small>
      <div class="d-none name"><code>ggswim.Rmd</code></div>
    </div>

    
    
<p>The ggswim package eases the development of swimmer plots in R by
seamlessly integrating with the ggplot2 framework. In this vignette,
we’ll walk through how users can create visually striking swimmer
plots.</p>
<p>At the heart of ggswim are two pivotal functions:
<code><a href="../reference/ggswim.html">ggswim()</a></code> and <code><a href="../reference/add_marker.html">add_marker()</a></code>. The former, an
extension of <code><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col()</a></code>, allows users to construct the
fundamental horizontal bars, often referred to as “lanes.” Meanwhile,
<code><a href="../reference/add_marker.html">add_marker()</a></code> leverages <code><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point()</a></code> and
<code><a href="https://ggplot2.tidyverse.org/reference/geom_text.html" class="external-link">geom_label()</a></code> to effortlessly embed key events or “markers”
onto the plot. These can take the form of unicode shapes, symbols, or
even emojis.</p>
<p>Drawing from the well-established principles of ggplot2, ggswim
allows users to apply familiar layer-building techniques, including the
application of styles and themes.</p>
<p>Let’s dive in and explore the boundless possibilities that
<code>ggswim</code> offers for expressive swimmer plots!</p>
<div class="section level3">
<h3 id="building-swimmer-plots-with-aesthetic-mapping">Building swimmer plots with aesthetic mapping<a class="anchor" aria-label="anchor" href="#building-swimmer-plots-with-aesthetic-mapping"></a>
</h3>
<p>To start, let’s build a swimmer plot using <code><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes()</a></code> and
dynamic mapping of data. As with the README, we will be using ggswim’s
internal dataseta: <code>patient_data</code>,
<code>infusion_events</code>, and <code>end_study_events</code>.</p>
<p>Let’s start with observing the structure of each dataset:</p>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["pt_id"],"name":[1],"type":["chr"],"align":["left"]},{"label":["bcell_status"],"name":[2],"type":["fct"],"align":["left"]},{"label":["disease_assessment_status"],"name":[3],"type":["chr"],"align":["left"]},{"label":["infusion_type"],"name":[4],"type":["chr"],"align":["left"]},{"label":["event_marker"],"name":[5],"type":["chr"],"align":["left"]},{"label":["delta_t0"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["delta_t0_months"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["delta_today"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["arrow_status"],"name":[9],"type":["lgl"],"align":["right"]}],"data":[{"1":"01","2":"B-cell Recovery","3":"CR","4":"Infusion","5":"disease_assessment","6":"-74","7":"-2","8":"16","9":"FALSE"},{"1":"01","2":"B-cell Recovery","3":"CR","4":"Infusion","5":"infusion_event","6":"0","7":"0","8":"16","9":"FALSE"},{"1":"01","2":"B-cell Recovery","3":"CR","4":"Infusion","5":"disease_assessment","6":"-1","7":"0","8":"16","9":"FALSE"},{"1":"01","2":"B-cell Aplasia","3":"CR","4":"Infusion","5":"disease_assessment","6":"27","7":"1","8":"16","9":"FALSE"},{"1":"01","2":"B-cell Aplasia","3":"CR","4":"Infusion","5":"infusion_event","6":"0","7":"0","8":"16","9":"FALSE"},{"1":"01","2":"B-cell Aplasia","3":"CR","4":"Infusion","5":"disease_assessment","6":"86","7":"3","8":"16","9":"FALSE"},{"1":"01","2":"B-cell Recovery","3":"CR","4":"Infusion","5":"disease_assessment","6":"190","7":"6","8":"16","9":"FALSE"},{"1":"01","2":"B-cell Recovery","3":"CR","4":"Infusion","5":"disease_assessment","6":"254","7":"8","8":"16","9":"FALSE"},{"1":"01","2":"B-cell Recovery","3":"CR","4":"Infusion","5":"disease_assessment","6":"363","7":"12","8":"16","9":"FALSE"},{"1":"01","2":"B-cell Recovery","3":"CR","4":"Infusion","5":"end_study_event","6":"363","7":"12","8":"16","9":"FALSE"},{"1":"01","2":"B-cell Recovery","3":"CR","4":"Reinfusion","5":"disease_assessment","6":"363","7":"12","8":"16","9":"FALSE"},{"1":"01","2":"B-cell Recovery","3":"CR","4":"Reinfusion","5":"infusion_event","6":"90","7":"3","8":"16","9":"FALSE"},{"1":"02","2":"Not Applicable","3":"RD","4":"Infusion","5":"disease_assessment","6":"-153","7":"-5","8":"13","9":"TRUE"},{"1":"02","2":"Not Applicable","3":"RD","4":"Infusion","5":"infusion_event","6":"0","7":"0","8":"13","9":"TRUE"},{"1":"02","2":"B-cell Recovery","3":"CR","4":"Infusion","5":"disease_assessment","6":"-1","7":"0","8":"13","9":"TRUE"},{"1":"02","2":"B-cell Recovery","3":"CR","4":"Infusion","5":"infusion_event","6":"0","7":"0","8":"13","9":"TRUE"},{"1":"02","2":"B-cell Aplasia","3":"CR","4":"Infusion","5":"disease_assessment","6":"27","7":"1","8":"13","9":"TRUE"},{"1":"02","2":"B-cell Aplasia","3":"CR","4":"Infusion","5":"infusion_event","6":"0","7":"0","8":"13","9":"TRUE"},{"1":"02","2":"B-cell Aplasia","3":"CR","4":"Infusion","5":"disease_assessment","6":"83","7":"3","8":"13","9":"TRUE"},{"1":"02","2":"B-cell Recovery","3":"CR","4":"Infusion","5":"disease_assessment","6":"174","7":"6","8":"13","9":"TRUE"},{"1":"02","2":"B-cell Aplasia","3":"CR","4":"Infusion","5":"disease_assessment","6":"272","7":"9","8":"13","9":"TRUE"},{"1":"02","2":"B-cell Aplasia","3":"CR","4":"Reinfusion","5":"infusion_event","6":"132","7":"4","8":"13","9":"TRUE"},{"1":"03","2":"Not Applicable","3":"RD","4":"Infusion","5":"disease_assessment","6":"-193","7":"-6","8":"12","9":"TRUE"},{"1":"03","2":"Not Applicable","3":"RD","4":"Infusion","5":"infusion_event","6":"0","7":"0","8":"12","9":"TRUE"},{"1":"03","2":"B-cell Aplasia","3":"CR","4":"Infusion","5":"disease_assessment","6":"-5","7":"0","8":"12","9":"TRUE"},{"1":"03","2":"B-cell Aplasia","3":"CR","4":"Infusion","5":"infusion_event","6":"0","7":"0","8":"12","9":"TRUE"},{"1":"03","2":"B-cell Aplasia","3":"CRi","4":"Infusion","5":"disease_assessment","6":"27","7":"1","8":"12","9":"TRUE"},{"1":"03","2":"B-cell Aplasia","3":"CRi","4":"Infusion","5":"infusion_event","6":"0","7":"0","8":"12","9":"TRUE"},{"1":"03","2":"B-cell Aplasia","3":"CRi","4":"Infusion","5":"disease_assessment","6":"99","7":"3","8":"12","9":"TRUE"},{"1":"03","2":"B-cell Aplasia","3":"CRi","4":"Infusion","5":"disease_assessment","6":"174","7":"6","8":"12","9":"TRUE"},{"1":"03","2":"B-cell Recovery","3":"RD","4":"Infusion","5":"disease_assessment","6":"267","7":"9","8":"12","9":"TRUE"},{"1":"03","2":"B-cell Recovery","3":"RD","4":"Infusion","5":"infusion_event","6":"0","7":"0","8":"12","9":"TRUE"},{"1":"03","2":"B-cell Recovery","3":"RD","4":"Reinfusion","5":"infusion_event","6":"76","7":"2","8":"12","9":"TRUE"},{"1":"04","2":"B-cell Recovery","3":"CR","4":"Infusion","5":"disease_assessment","6":"-63","7":"-2","8":"14","9":"FALSE"},{"1":"04","2":"B-cell Recovery","3":"CR","4":"Infusion","5":"infusion_event","6":"0","7":"0","8":"14","9":"FALSE"},{"1":"04","2":"B-cell Recovery","3":"CR","4":"Infusion","5":"disease_assessment","6":"-5","7":"0","8":"14","9":"FALSE"},{"1":"04","2":"B-cell Aplasia","3":"CR","4":"Infusion","5":"disease_assessment","6":"27","7":"1","8":"14","9":"FALSE"},{"1":"04","2":"B-cell Aplasia","3":"CR","4":"Infusion","5":"infusion_event","6":"0","7":"0","8":"14","9":"FALSE"},{"1":"04","2":"B-cell Recovery","3":"CR","4":"Infusion","5":"disease_assessment","6":"85","7":"3","8":"14","9":"FALSE"},{"1":"04","2":"B-cell Recovery","3":"CR","4":"Infusion","5":"end_study_event","6":"146","7":"5","8":"14","9":"FALSE"},{"1":"05","2":"B-cell Recovery","3":"RD","4":"Infusion","5":"disease_assessment","6":"-109","7":"-4","8":"11","9":"TRUE"},{"1":"05","2":"B-cell Recovery","3":"RD","4":"Infusion","5":"infusion_event","6":"0","7":"0","8":"11","9":"TRUE"},{"1":"05","2":"Not Applicable","3":"RD","4":"Infusion","5":"disease_assessment","6":"-1","7":"0","8":"11","9":"TRUE"},{"1":"05","2":"Not Applicable","3":"RD","4":"Infusion","5":"infusion_event","6":"0","7":"0","8":"11","9":"TRUE"},{"1":"05","2":"B-cell Aplasia","3":"CRi","4":"Infusion","5":"disease_assessment","6":"27","7":"1","8":"11","9":"TRUE"},{"1":"05","2":"B-cell Aplasia","3":"CRi","4":"Infusion","5":"infusion_event","6":"0","7":"0","8":"11","9":"TRUE"},{"1":"05","2":"B-cell Aplasia","3":"CRi","4":"Infusion","5":"disease_assessment","6":"92","7":"3","8":"11","9":"TRUE"},{"1":"05","2":"B-cell Aplasia","3":"CRi","4":"Infusion","5":"disease_assessment","6":"188","7":"6","8":"11","9":"TRUE"},{"1":"05","2":"B-cell Aplasia","3":"CRi","4":"Infusion","5":"disease_assessment","6":"240","7":"8","8":"11","9":"TRUE"},{"1":"06","2":"B-cell Recovery","3":"CR","4":"Infusion","5":"disease_assessment","6":"-174","7":"-6","8":"10","9":"TRUE"},{"1":"06","2":"B-cell Recovery","3":"CR","4":"Infusion","5":"infusion_event","6":"0","7":"0","8":"10","9":"TRUE"},{"1":"06","2":"Not Applicable","3":"RD","4":"Infusion","5":"disease_assessment","6":"-1","7":"0","8":"10","9":"TRUE"},{"1":"06","2":"Not Applicable","3":"RD","4":"Infusion","5":"infusion_event","6":"0","7":"0","8":"10","9":"TRUE"},{"1":"06","2":"B-cell Aplasia","3":"CRi","4":"Infusion","5":"disease_assessment","6":"27","7":"1","8":"10","9":"TRUE"},{"1":"06","2":"B-cell Aplasia","3":"CRi","4":"Infusion","5":"infusion_event","6":"0","7":"0","8":"10","9":"TRUE"},{"1":"06","2":"B-cell Aplasia","3":"CR","4":"Infusion","5":"disease_assessment","6":"99","7":"3","8":"10","9":"TRUE"},{"1":"06","2":"B-cell Aplasia","3":"CR","4":"Infusion","5":"infusion_event","6":"0","7":"0","8":"10","9":"TRUE"},{"1":"06","2":"B-cell Aplasia","3":"CRi","4":"Infusion","5":"disease_assessment","6":"176","7":"6","8":"10","9":"TRUE"},{"1":"07","2":"B-cell Recovery","3":"CR","4":"Infusion","5":"disease_assessment","6":"-85","7":"-3","8":"10","9":"FALSE"},{"1":"07","2":"B-cell Recovery","3":"CR","4":"Infusion","5":"infusion_event","6":"0","7":"0","8":"10","9":"FALSE"},{"1":"07","2":"Not Applicable","3":"RD","4":"Infusion","5":"disease_assessment","6":"-1","7":"0","8":"10","9":"FALSE"},{"1":"07","2":"Not Applicable","3":"RD","4":"Infusion","5":"infusion_event","6":"0","7":"0","8":"10","9":"FALSE"},{"1":"07","2":"B-cell Aplasia","3":"CR","4":"Infusion","5":"disease_assessment","6":"27","7":"1","8":"10","9":"FALSE"},{"1":"07","2":"B-cell Aplasia","3":"CR","4":"Infusion","5":"infusion_event","6":"0","7":"0","8":"10","9":"FALSE"},{"1":"07","2":"B-cell Recovery","3":"CR","4":"Infusion","5":"disease_assessment","6":"55","7":"2","8":"10","9":"FALSE"},{"1":"07","2":"B-cell Recovery","3":"CR","4":"Infusion","5":"end_study_event","6":"62","7":"2","8":"10","9":"FALSE"},{"1":"08","2":"B-cell Recovery","3":"CR","4":"Infusion","5":"disease_assessment","6":"-116","7":"-4","8":"9","9":"TRUE"},{"1":"08","2":"B-cell Recovery","3":"CR","4":"Infusion","5":"infusion_event","6":"0","7":"0","8":"9","9":"TRUE"},{"1":"08","2":"B-cell Recovery","3":"CRi","4":"Infusion","5":"disease_assessment","6":"1","7":"0","8":"9","9":"TRUE"},{"1":"08","2":"B-cell Recovery","3":"CRi","4":"Infusion","5":"infusion_event","6":"0","7":"0","8":"9","9":"TRUE"},{"1":"08","2":"B-cell Aplasia","3":"CRi","4":"Infusion","5":"disease_assessment","6":"27","7":"1","8":"9","9":"TRUE"},{"1":"08","2":"B-cell Aplasia","3":"CRi","4":"Infusion","5":"infusion_event","6":"0","7":"0","8":"9","9":"TRUE"},{"1":"08","2":"B-cell Aplasia","3":"CR","4":"Infusion","5":"disease_assessment","6":"90","7":"3","8":"9","9":"TRUE"},{"1":"08","2":"B-cell Aplasia","3":"CR","4":"Infusion","5":"infusion_event","6":"0","7":"0","8":"9","9":"TRUE"},{"1":"08","2":"B-cell Aplasia","3":"CR","4":"Infusion","5":"disease_assessment","6":"190","7":"6","8":"9","9":"TRUE"},{"1":"09","2":"B-cell Recovery","3":"RD","4":"Infusion","5":"disease_assessment","6":"-85","7":"-3","8":"8","9":"FALSE"},{"1":"09","2":"B-cell Recovery","3":"RD","4":"Infusion","5":"infusion_event","6":"0","7":"0","8":"8","9":"FALSE"},{"1":"09","2":"Not Applicable","3":"CRi","4":"Infusion","5":"disease_assessment","6":"-1","7":"0","8":"8","9":"FALSE"},{"1":"09","2":"Not Applicable","3":"CRi","4":"Infusion","5":"infusion_event","6":"0","7":"0","8":"8","9":"FALSE"},{"1":"09","2":"Not Applicable","3":"CRi","4":"Infusion","5":"end_study_event","6":"6","7":"0","8":"8","9":"FALSE"},{"1":"12","2":"Not Applicable","3":"CR","4":"Infusion","5":"disease_assessment","6":"-62","7":"-2","8":"3","9":"TRUE"},{"1":"12","2":"Not Applicable","3":"CR","4":"Infusion","5":"infusion_event","6":"0","7":"0","8":"3","9":"TRUE"},{"1":"12","2":"Not Applicable","3":"CR","4":"Infusion","5":"disease_assessment","6":"-5","7":"0","8":"3","9":"TRUE"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p><code>patient_data</code> contains a long dataset where patient ID’s
(<code>pt_id</code>) can be repeated. These rows are differentiated by
<code>event_marker</code>s and corresponding times. Together, these rows
signify a patient trajectory with consideration for infusions and
disease assessment time points. You’ll notice several other columns that
give more information:</p>
<ul>
<li>
<code>bcell_status</code>: The B-Cell status of a given patient at a
particular time point, indicating aplasia or recovery</li>
<li>
<code>disease_assessment_status</code>: The overall status at a
disease assessment timepoint where:</li>
<li>CR = “Complete Response”</li>
<li>CRi = “Complete Response with Incomplete Blood Count Recovery”</li>
<li>RD = “Relapsed Disease”</li>
</ul>
<p>Now, let’s make the plot using <code><a href="../reference/ggswim.html">ggswim()</a></code> and our first
<code><a href="../reference/add_marker.html">add_marker()</a></code> call:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ggswim.html">ggswim</a></span><span class="op">(</span></span>
<span>  <span class="va">patient_data</span>,</span>
<span>  mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">delta_t0_months</span>,</span>
<span>                y <span class="op">=</span> <span class="va">pt_id</span>, fill <span class="op">=</span> </span>
<span>                  <span class="va">disease_assessment_status</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">p</span></span></code></pre></div>
<p><img src="ggswim_files/figure-html/ggswim%20plot-1.png" width="700"></p>
<p>Here we have a simple bar chart, showing infusions grouped by
patients with a given disease assessment status. <code><a href="../reference/ggswim.html">ggswim()</a></code>
does the work of setting up a <code><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col()</a></code> and readying your
plot layers for additional ggwim-specific features such as “markers.”
Let’s add a marker layer next and reference <code>bcell_status</code>
from the same <code>patient_data</code> dataset. Additionally, we’ll add
another marker layer from the <code>infusion_events</code> dataset:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">infusion_events</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">rmarkdown</span><span class="fu">::</span><span class="fu"><a href="https://pkgs.rstudio.com/rmarkdown/reference/paged_table.html" class="external-link">paged_table</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["pt_id"],"name":[1],"type":["chr"],"align":["left"]},{"label":["infusion_type"],"name":[2],"type":["chr"],"align":["left"]},{"label":["infusion_delta_t0"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"01","2":"Infusion","3":"0"},{"1":"01","2":"Reinfusion","3":"3"},{"1":"02","2":"Infusion","3":"0"},{"1":"02","2":"Reinfusion","3":"4"},{"1":"03","2":"Infusion","3":"0"},{"1":"03","2":"Reinfusion","3":"2"},{"1":"04","2":"Infusion","3":"0"},{"1":"05","2":"Infusion","3":"0"},{"1":"06","2":"Infusion","3":"0"},{"1":"07","2":"Infusion","3":"0"},{"1":"08","2":"Infusion","3":"0"},{"1":"09","2":"Infusion","3":"0"},{"1":"12","2":"Infusion","3":"0"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>This dataset is much simpler, having only 3 columns indicating
infusions (considered <code>t0</code>) and reinfusions at some point
beyond <code>t0</code> if a patient required any.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">p</span> <span class="op">&lt;-</span> <span class="va">p</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/add_marker.html">add_marker</a></span><span class="op">(</span></span>
<span>    <span class="va">patient_data</span> <span class="op">|&gt;</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span><span class="st">"Status Markers"</span> <span class="op">=</span> <span class="va">bcell_status</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">delta_t0_months</span>, </span>
<span>        y <span class="op">=</span> <span class="va">pt_id</span>, </span>
<span>        color <span class="op">=</span> <span class="va">`Status Markers`</span>, </span>
<span>        shape <span class="op">=</span> <span class="va">`Status Markers`</span><span class="op">)</span>,</span>
<span>    size <span class="op">=</span> <span class="fl">5</span>, position <span class="op">=</span> <span class="st">"identity"</span>, alpha <span class="op">=</span> <span class="fl">1</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/add_marker.html">add_marker</a></span><span class="op">(</span></span>
<span>    <span class="va">infusion_events</span>,</span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">infusion_delta_t0</span>, </span>
<span>        y <span class="op">=</span> <span class="va">pt_id</span>, </span>
<span>        color <span class="op">=</span> <span class="va">infusion_type</span>, </span>
<span>        shape <span class="op">=</span> <span class="va">infusion_type</span><span class="op">)</span>,</span>
<span>    size <span class="op">=</span> <span class="fl">5</span>, position <span class="op">=</span> <span class="st">"identity"</span>, alpha <span class="op">=</span> <span class="fl">1</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">p</span></span></code></pre></div>
<p><img src="ggswim_files/figure-html/first%20marker%20plot-1.png" width="700"></p>
<p>Now we can see shapes have been added to establish our markers…
though some blend into the colors of the bar charts. We’ll fix this soon
enough! For now, we can see that a new legend has been added to
articulate the markers we added for the b-cell disease assessment and
infusion events.</p>
<p>Our last dataset involved end of study events, i.e. events that
indicate a patient has left the study for varying reasons.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">end_study_events</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">rmarkdown</span><span class="fu">::</span><span class="fu"><a href="https://pkgs.rstudio.com/rmarkdown/reference/paged_table.html" class="external-link">paged_table</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["pt_id"],"name":[1],"type":["chr"],"align":["left"]},{"label":["delta_t0"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["delta_t0_months"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["end_study_label"],"name":[4],"type":["chr"],"align":["left"]},{"label":["end_study_name"],"name":[5],"type":["chr"],"align":["left"]}],"data":[{"1":"01","2":"363","3":"12","4":"✅","5":"Completed Study Follow-Up"},{"1":"04","2":"146","3":"5","4":"⚠️","5":"Other End Study Reason"},{"1":"07","2":"62","3":"2","4":"⚠️","5":"Other End Study Reason"},{"1":"09","2":"6","3":"0","4":"❌","5":"Deceased"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>You’ll notice that this dataset includes use of emojis under
<code>end_study_label</code>. In addition to shapes and symbols, ggswim
supports the use of emojis when rendering swimmer plots.
<code><a href="../reference/add_marker.html">add_marker()</a></code> allows users to specify shapes or emojis by
using the appropriate argument callouts (<code>label</code> and
<code>shape</code>). Let’s add a layer using emojis via the
<code>end_study_events</code> dataset:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p</span> <span class="op">&lt;-</span> <span class="va">p</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/add_marker.html">add_marker</a></span><span class="op">(</span></span>
<span>    <span class="va">end_study_events</span>,</span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">delta_t0_months</span>, </span>
<span>        y <span class="op">=</span> <span class="va">pt_id</span>, </span>
<span>        label <span class="op">=</span> <span class="va">end_study_label</span>, </span>
<span>        color <span class="op">=</span> <span class="va">end_study_name</span><span class="op">)</span>,</span>
<span>    label.size <span class="op">=</span> <span class="cn">NA</span>, fill <span class="op">=</span> <span class="cn">NA</span>, size <span class="op">=</span> <span class="fl">5</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">p</span></span></code></pre></div>
<p><img src="ggswim_files/figure-html/second%20marker%20plot-1.png" width="700"></p>
<p>At this point we have a working swimmer plot with lanes and two
different kinds of marker layers. Recall that ggswim works within the
ggplot2 framework, therefore customization can be done using the same
ggplot2 theme and styling functions users may already be familiar with.
Let’s fix up this plot so it looks nicer on the eyes:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">p</span> <span class="op">&lt;-</span> <span class="va">p</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_colour_manual</a></span><span class="op">(</span></span>
<span>    values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"firebrick"</span>, <span class="st">"#F5EB0A"</span>, <span class="st">"gray50"</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="st">"#25DA6D"</span>, <span class="st">"#25DA6D"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_shape_manual</a></span><span class="op">(</span></span>
<span>    values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">19</span>, <span class="fl">19</span>, <span class="fl">15</span>, <span class="fl">17</span>, <span class="fl">18</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_fill_manual</a></span><span class="op">(</span></span>
<span>    name <span class="op">=</span> <span class="st">"Overall Disease Assessment"</span>,</span>
<span>    values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#6394F3"</span>, <span class="st">"#F3C363"</span>, <span class="st">"#EB792F"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Prodigy Swimmer Plot"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">"Time (Months)"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Patient ID"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">p</span></span></code></pre></div>
<p><img src="ggswim_files/figure-html/mapping%20finalizing-1.png" width="700"></p>
<p>We also supply the <code><a href="../reference/theme_ggswim.html">theme_ggswim()</a></code> function:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/theme_ggswim.html">theme_ggswim</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Scale for <span style="color: #00BB00;">colour</span> is already present.</span></span>
<span><span class="co">#&gt; Adding another scale for <span style="color: #00BB00;">colour</span>, which will replace the existing scale.</span></span></code></pre></div>
<p><img src="ggswim_files/figure-html/mapping%20with%20theme_ggswim-1.png" width="700"></p>
</div>
<div class="section level3">
<h3 id="customizing-markers-a-deeper-dive">Customizing Markers: A Deeper Dive<a class="anchor" aria-label="anchor" href="#customizing-markers-a-deeper-dive"></a>
</h3>
<p>In the world of data, one size rarely fits all. That’s why ggswim
caters to both dynamic and static marker assignments. But what does that
mean exactly?</p>
<p>Imagine you have a dataset where you want to manually define the
color of a single, significant marker rather than relying on a mapped
variable. By splitting up <code>infusion_events</code> into distinct
data frames, you can achieve this customized effect.</p>
<p>To make it all come together, make sure to include an
<code><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes()</a></code> <code>name</code> argument within
<code><a href="../reference/add_marker.html">add_marker()</a></code>. This serves as a crucial anchor point for the
legend, ensuring clarity in your visualization.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">initial_infusions</span> <span class="op">&lt;-</span> <span class="va">infusion_events</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">infusion_type</span> <span class="op">==</span> <span class="st">"Infusion"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">reinfusions</span> <span class="op">&lt;-</span> <span class="va">infusion_events</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">infusion_type</span> <span class="op">==</span> <span class="st">"Reinfusion"</span><span class="op">)</span></span></code></pre></div>
<p>Now, let’s plot it similarly to how we have previously:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ggswim.html">ggswim</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">patient_data</span>,</span>
<span>  mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">delta_t0_months</span>, y <span class="op">=</span> <span class="va">pt_id</span>, fill <span class="op">=</span> <span class="va">disease_assessment_status</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># Same markers as before for Disease Assessment</span></span>
<span>  <span class="fu"><a href="../reference/add_marker.html">add_marker</a></span><span class="op">(</span></span>
<span>    <span class="va">patient_data</span> <span class="op">|&gt;</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span><span class="st">"Status Markers"</span> <span class="op">=</span> <span class="va">bcell_status</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">delta_t0_months</span>, </span>
<span>        y <span class="op">=</span> <span class="va">pt_id</span>, </span>
<span>        color <span class="op">=</span> <span class="va">`Status Markers`</span>, </span>
<span>        shape <span class="op">=</span> <span class="va">`Status Markers`</span><span class="op">)</span>,</span>
<span>    size <span class="op">=</span> <span class="fl">5</span>, position <span class="op">=</span> <span class="st">"identity"</span>, alpha <span class="op">=</span> <span class="fl">1</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># New manual color markers for Infusions</span></span>
<span>  <span class="fu"><a href="../reference/add_marker.html">add_marker</a></span><span class="op">(</span></span>
<span>    <span class="va">initial_infusions</span>,</span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">infusion_delta_t0</span>, y <span class="op">=</span> <span class="va">pt_id</span>, name <span class="op">=</span> <span class="st">"Initial Infusion"</span><span class="op">)</span>,</span>
<span>    size <span class="op">=</span> <span class="fl">5</span>, position <span class="op">=</span> <span class="st">"identity"</span>, color <span class="op">=</span> <span class="st">"green"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/add_marker.html">add_marker</a></span><span class="op">(</span></span>
<span>    <span class="va">reinfusions</span>,</span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">infusion_delta_t0</span>, y <span class="op">=</span> <span class="va">pt_id</span>, name <span class="op">=</span> <span class="st">"Reinfusion"</span><span class="op">)</span>,</span>
<span>    size <span class="op">=</span> <span class="fl">5</span>, position <span class="op">=</span> <span class="st">"identity"</span>, color <span class="op">=</span> <span class="st">"red"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/theme_ggswim.html">theme_ggswim</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="ggswim_files/figure-html/static%20plot-1.png" width="700"></p>
<p>This example showcases ggswim’s ability to handle different data
structures from varying sources. Its adaptable framework lets users
customize the output precisely to their unique requirements.</p>
</div>
<div class="section level3">
<h3 id="additional-notes">Additional notes<a class="anchor" aria-label="anchor" href="#additional-notes"></a>
</h3>
<p>Here are some essential points to keep in mind when working with
ggswim:</p>
<ul>
<li><p><strong>Handling Missing Data:</strong> ggswim does not support
missing data for mapping aesthetics. If any are detected, developers
will receive a warning, and the missing data may appear as
<code>NA</code> values in the display, but will be excluded from the
legend.</p></li>
<li><p><strong>Color Mapping with <code><a href="../reference/ggswim.html">ggswim()</a></code>:</strong> Please
note that <code><a href="../reference/ggswim.html">ggswim()</a></code> does not support mapping using the
<code>colour</code> argument.</p></li>
<li><p><strong>Filling Markers with <code><a href="../reference/add_marker.html">add_marker()</a></code>:</strong>
Similarly, <code><a href="../reference/add_marker.html">add_marker()</a></code> does not support mapping using the
<code>fill</code> argument.</p></li>
<li><p><strong>Rendering Emojis and Custom Shapes:</strong> To ensure
emojis and other custom shapes display correctly, users may need to
switch the graphics rendering device to AGG.</p></li>
</ul>
<p>These considerations will help you make the most of ggswim while
building your visualizations.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Richard Hanna, Stephan Kadauke, Ezra Porter.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
